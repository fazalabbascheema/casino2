<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Demo Casino ‚Äî NOT REAL MONEY</title>
<style>
  :root{
    --bg:#071017;
    --card:#0f1720;
    --muted:#9aa6b2;
    --accent:gold;
    --accent-2:#ffb86b;
    --glass: rgba(255,255,255,0.03);
    --success:#2ecc71;
    --danger:#ff6b6b;
  }
  *{box-sizing:border-box}
  body{margin:0;font-family:Inter, ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;color:#e6eef6;background:linear-gradient(180deg,#04111a 0%,#071017 100%);min-height:100vh}
  header{display:flex;align-items:center;justify-content:space-between;padding:18px 28px;border-bottom:1px solid rgba(255,255,255,0.03)}
  .brand{display:flex;gap:12px;align-items:center}
  .logo{width:44px;height:44px;border-radius:8px;background:linear-gradient(135deg,var(--accent),var(--accent-2));display:flex;align-items:center;justify-content:center;font-weight:700;color:#071017}
  h1{font-size:18px;margin:0}
  .badge{background:#2a3136;padding:6px 10px;border-radius:10px;font-size:13px;color:var(--muted)}
  main{padding:22px;max-width:1100px;margin:20px auto;display:grid;grid-template-columns:360px 1fr;gap:18px}
  .panel{background:var(--card);border-radius:12px;padding:16px;border:1px solid rgba(255,255,255,0.03)}
  .banner{background:linear-gradient(90deg,#232a2e, rgba(255,255,255,0.02));border-radius:10px;padding:10px;margin-bottom:12px;color:var(--accent);font-weight:600;text-align:center}
  .muted{color:var(--muted);font-size:13px}
  label{display:block;font-size:13px;color:var(--muted);margin-top:12px;margin-bottom:6px}
  input[type="text"], input[type="number"], select{width:100%;padding:10px;border-radius:8px;border:1px solid rgba(255,255,255,0.04);background:var(--glass);color:#eaf3ff}
  .row{display:flex;gap:8px;align-items:center}
  button{background:linear-gradient(180deg,var(--accent),var(--accent-2));border:none;padding:10px 14px;border-radius:8px;cursor:pointer;font-weight:700;color:#071017}
  .ghost{background:transparent;border:1px solid rgba(255,255,255,0.04);color:var(--muted);padding:8px 10px;border-radius:8px}
  .small{font-size:13px;color:var(--muted)}
  .coins{font-size:28px;font-weight:800;color:var(--accent)}
  .game-grid{display:grid;grid-template-columns:repeat(2,1fr);gap:12px}
  .game-card{background:linear-gradient(180deg, rgba(255,255,255,0.01), rgba(255,255,255,0.02));padding:12px;border-radius:10px;border:1px solid rgba(255,255,255,0.02)}
  .game-title{font-weight:700;margin:0 0 8px 0}
  .log{background:rgba(255,255,255,0.02);padding:8px;border-radius:8px;margin-top:8px;color:var(--muted);height:90px;overflow:auto;font-size:13px}
  .footer-note{font-size:12px;color:var(--muted);text-align:center;margin-top:12px}

  /* Crash bar */
  .crash-bar{height:110px;display:flex;align-items:flex-end;gap:6px;padding:6px}
  .crash-col{flex:1;background:linear-gradient(180deg,#0b2730,#04151a);border-radius:6px;display:flex;align-items:flex-end;justify-content:center;padding:6px;color:#9fbcd0;font-weight:700}
  .winner{color:var(--success)}
  .loser{color:var(--danger)}
  /* responsive */
  @media (max-width:900px){main{grid-template-columns:1fr;padding:14px} .game-grid{grid-template-columns:1fr}}
</style>
</head>
<body>

<header>
  <div class="brand">
    <div class="logo">DC</div>
    <div>
      <h1>Demo Casino</h1>
      <div class="small">DEMO ‚Äî NOT REAL MONEY ‚Ä¢ For learning & UX only</div>
    </div>
  </div>
  <div class="badge">Balance: <span class="coins" id="coinsDisplay">0</span></div>
</header>

<main>
  <!-- Left column: referral / account / lottery -->
  <section class="panel" id="leftPanel">
    <div class="banner">DEMO ‚Ä¢ NO REAL FUNDS ‚Ä¢ CLIENT-SIDE ONLY</div>

    <div id="refBox">
      <label>Referral code (6 digits)</label>
      <div class="row">
        <input type="text" id="refCode" maxlength="6" placeholder="Enter code or skip" />
        <button id="applyRefBtn">Apply</button>
      </div>
      <div class="row" style="margin-top:8px">
        <button class="ghost" id="skipBtn">Skip ‚Äî Create account with 400 coins</button>
        <div style="flex:1"></div>
      </div>
      <div id="refMsg" class="small" style="margin-top:8px"></div>
    </div>

    <hr style="margin:12px 0;border-color:rgba(255,255,255,0.03)">

    <div>
      <h3 style="margin:0">Lottery</h3>
      <div class="small">Buy timed ticket ‚Äî draws simulated in this browser</div>

      <div style="margin-top:10px" class="game-card">
        <div style="display:flex;justify-content:space-between;align-items:center">
          <div><strong>1 Hour</strong><div class="small">Fast draw</div></div>
          <div><strong>200</strong> coins</div>
        </div>
        <div style="margin-top:8px" class="row">
          <input id="lotNum1" type="number" placeholder="Optional 6-digit" min="0" style="flex:1" />
          <button class="" onclick="buyLottery(3600,200)">Buy</button>
        </div>
      </div>

      <div style="margin-top:10px" class="game-card">
        <div style="display:flex;justify-content:space-between;align-items:center">
          <div><strong>1 Day</strong><div class="small">Daily draw</div></div>
          <div><strong>400</strong> coins</div>
        </div>
        <div style="margin-top:8px" class="row">
          <input id="lotNum2" type="number" placeholder="Optional 6-digit" min="0" style="flex:1" />
          <button onclick="buyLottery(86400,400)">Buy</button>
        </div>
      </div>

      <div style="margin-top:10px" class="game-card">
        <div style="display:flex;justify-content:space-between;align-items:center">
          <div><strong>1 Week</strong><div class="small">Weekly draw</div></div>
          <div><strong>700</strong> coins</div>
        </div>
        <div style="margin-top:8px" class="row">
          <input id="lotNum3" type="number" placeholder="Optional 6-digit" min="0" style="flex:1" />
          <button onclick="buyLottery(604800,700)">Buy</button>
        </div>
      </div>

      <div style="margin-top:10px" class="game-card">
        <div style="display:flex;justify-content:space-between;align-items:center">
          <div><strong>1 Month</strong><div class="small">Big draw</div></div>
          <div><strong>1000</strong> coins</div>
        </div>
        <div style="margin-top:8px" class="row">
          <input id="lotNum4" type="number" placeholder="Optional 6-digit" min="0" style="flex:1" />
          <button onclick="buyLottery(2592000,1000)">Buy</button>
        </div>
      </div>

      <div style="margin-top:12px">
        <div class="small">Participants: <span id="participants">0</span> ‚Ä¢ Active tickets: <span id="activeTickets">0</span></div>
        <div class="log" id="lotteryLog">No draws yet.</div>
      </div>
    </div>

    <div style="margin-top:14px">
      <h3 style="margin:0">Account Controls</h3>
      <div class="small">Simulated withdraw and reset (local only).</div>
      <div style="margin-top:8px" class="row">
        <input id="withdrawAmt" type="number" placeholder="Amount" />
        <button onclick="simulateWithdraw()">Withdraw</button>
        <button class="ghost" onclick="resetDemo()">Reset</button>
      </div>
      <div id="acctMsg" class="small" style="margin-top:8px"></div>
    </div>

    <div class="footer-note">This is a demo. Do not use for real money. All data stored in browser.</div>
  </section>

  <!-- Right column: games -->
  <section class="panel">
    <h2 style="margin-top:0">Games</h2>
    <div class="game-grid">

      <!-- Crash -->
      <div class="game-card">
        <div class="game-title">Crash</div>
        <div class="small">Place a bet, cash out before the crash multiplier.</div>
        <div style="margin-top:8px" class="row">
          <input id="crashBet" type="number" placeholder="Bet amount" />
          <select id="crashAuto" style="width:140px">
            <option value="2">Auto cashout √ó2</option>
            <option value="3">Auto cashout √ó3</option>
            <option value="5">Auto cashout √ó5</option>
          </select>
        </div>
        <div id="crashArea" style="margin-top:10px">
          <div class="crash-bar" id="crashBar"></div>
          <div style="display:flex;gap:8px;margin-top:8px">
            <button onclick="startCrash()">Start</button>
            <button class="ghost" onclick="stopCrash()">Stop (cashout)</button>
            <div style="flex:1"></div>
            <div class="small">Status: <span id="crashStatus" class="small">Idle</span></div>
          </div>
        </div>
        <div class="log" id="crashLog">No rounds yet.</div>
      </div>

      <!-- Dragon Tiger -->
      <div class="game-card">
        <div class="game-title">Dragon Tiger</div>
        <div class="small">Bet on Dragon or Tiger. Payout 1:1</div>
        <div style="margin-top:8px" class="row">
          <input id="dtBet" type="number" placeholder="Bet amount" />
          <button onclick="playDragonTiger('Dragon')">Bet Dragon</button>
          <button class="ghost" onclick="playDragonTiger('Tiger')">Bet Tiger</button>
        </div>
        <div class="log" id="dtLog">No rounds yet.</div>
      </div>

      <!-- Roulette -->
      <div class="game-card">
        <div class="game-title">Roulette</div>
        <div class="small">Bet on Red / Black / Number</div>
        <div style="margin-top:8px" class="row">
          <input id="rBet" type="number" placeholder="Bet amount" />
          <select id="rType">
            <option value="red">Red (1:1)</option>
            <option value="black">Black (1:1)</option>
            <option value="number">Number (35:1)</option>
          </select>
          <input id="rNumber" type="number" placeholder="0-36" style="width:86px" />
        </div>
        <div style="margin-top:8px" class="row">
          <button onclick="spinRoulette()">Spin</button>
        </div>
        <div class="log" id="rLog">No spins yet.</div>
      </div>

      <!-- Zoo (pick an animal) -->
      <div class="game-card">
        <div class="game-title">Zoo</div>
        <div class="small">Pick an animal. Match = payout √ó5</div>
        <div style="margin-top:8px" class="row">
          <input id="zBet" type="number" placeholder="Bet amount" />
          <select id="zPick">
            <option>Elephant</option>
            <option>Tiger</option>
            <option>Lion</option>
            <option>Giraffe</option>
            <option>Monkey</option>
          </select>
          <button onclick="playZoo()">Play</button>
        </div>
        <div class="log" id="zLog">No plays yet.</div>
      </div>

    </div>
  </section>
</main>

<script>
/* ----------------------------
   Demo data & persistence
   ---------------------------- */
const DEFAULT_REF_CODES = [
  491349,796530,236420,539587,494614,606969,830513,515729,676166,357686,
  104388,244958,149372,255396,359997,740924,358957,493612,878245,690959,
  294649,229869,532340,553947,808643,280823,897266,360613,701998,725932,
  983261,571074,308947,276851,512630,702995,430868,850761,912783,431568
];

// helpers
const load = (k)=>{ try { return JSON.parse(localStorage.getItem(k)); } catch(e){return null;} }
const save = (k,v)=>localStorage.setItem(k,JSON.stringify(v));
const now = ()=>Date.now();

if(!load('demo_ref_codes')) save('demo_ref_codes', DEFAULT_REF_CODES.reduce((o,c)=>{ o[c]=true; return o; }, {}));
if(!load('demo_users')) save('demo_users', {});
if(!load('demo_tickets')) save('demo_tickets', []);
if(!load('demo_draws')) save('demo_draws', []);

let coins = parseInt(localStorage.getItem('coins')) || 0;
document.getElementById('coinsDisplay').textContent = coins;

/* ----------------------------
   Referral & account logic
   ---------------------------- */
document.getElementById('applyRefBtn').onclick = applyReferral;
document.getElementById('skipBtn').onclick = createAccountSkip;

function applyReferral(){
  const codeStr = (document.getElementById('refCode').value || '').trim();
  const msg = document.getElementById('refMsg');
  if(!/^\d{6}$/.test(codeStr)){ msg.textContent = "Enter a 6-digit code."; return; }
  const code = parseInt(codeStr,10);
  const refs = load('demo_ref_codes') || {};
  if(!refs[code]){ msg.textContent = "‚ùå Invalid or already used code."; return; }
  // valid: grant 400 signup + 1000 referral = 1400
  coins = (parseInt(localStorage.getItem('coins'))||0) + 400 + 1000;
  save('demo_ref_codes', Object.assign({}, refs, {[code]: false}));
  save('coins', coins);
  document.getElementById('coinsDisplay').textContent = coins;
  msg.textContent = `‚úÖ Code applied ‚Äî +1400 coins credited. (400 signup + 1000 referral)`;
  // hide ref box slightly to show account
  document.getElementById('refBox').style.opacity = 0.9;
}

function createAccountSkip(){
  const msg = document.getElementById('refMsg');
  coins = (parseInt(localStorage.getItem('coins'))||0) + 400;
  save('coins', coins);
  document.getElementById('coinsDisplay').textContent = coins;
  msg.textContent = "‚úÖ Account created ‚Äî 400 coins credited.";
}

/* ----------------------------
   Lottery logic
   ---------------------------- */
const REF_NUMBERS = [
  /* You can paste your large reference numbers here or leave as random picks for demo */
  458923,602147,731920,195438,273610,825074,510369,176294,934582,289703,645812,957406,120598,364709,758124
];

function buyLottery(durationSeconds, price){
  const userCoins = parseInt(localStorage.getItem('coins')) || 0;
  if(userCoins < price){ appendLog('lotteryLog','‚ùå Not enough coins'); return; }
  // deduct
  const newBal = userCoins - price;
  save('coins', newBal);
  document.getElementById('coinsDisplay').textContent = newBal;

  // chosen number optional
  const inputId = durationSeconds==3600? 'lotNum1' : durationSeconds==86400? 'lotNum2' : durationSeconds==604800? 'lotNum3' : 'lotNum4';
  const chosen = (document.getElementById(inputId).value || '').trim();
  const ticket = {
    owner: 'you',
    chosen: (chosen && /^\d{1,6}$/.test(chosen))? chosen.padStart(6,'0') : null,
    boughtAt: now(),
    expires: now() + durationSeconds*1000,
    price: price
  };
  const tickets = load('demo_tickets') || [];
  tickets.push(ticket);
  save('demo_tickets', tickets);
  appendLog('lotteryLog', `üéüÔ∏è Ticket bought (${durationSeconds} s) ‚Äî expires at ${new Date(ticket.expires).toLocaleString()}`);
  updateTicketStats();
}

/* Periodically check for expired tickets and run a draw (demo only) */
setInterval(()=>{
  const tickets = load('demo_tickets') || [];
  if(!tickets.length) return;
  const nowTime = now();
  const expired = tickets.filter(t=>t.expires <= nowTime);
  if(expired.length === 0) return;
  // process the earliest expired ticket group
  const toProcess = expired; // handle all expired now for demo
  const remaining = tickets.filter(t=>t.expires > nowTime);
  const draws = load('demo_draws') || [];
  // pick a winner among expired tickets randomly
  const winnerTicket = toProcess[Math.floor(Math.random()*toProcess.length)];
  const winningNumber = REF_NUMBERS[Math.floor(Math.random()*REF_NUMBERS.length)];
  // award demo prize depending on ticket price (simple formula)
  const prize = Math.round(winnerTicket.price * 5); // e.g., 200->1000 etc
  let currentCoins = parseInt(localStorage.getItem('coins')) || 0;
  currentCoins += prize;
  save('coins', currentCoins);
  document.getElementById('coinsDisplay').textContent = currentCoins;
  draws.push({ time: now(), winner: winnerTicket.owner, prize, winningNumber });
  save('demo_draws', draws);
  save('demo_tickets', remaining);
  appendLog('lotteryLog', `üèÜ Draw: winner=${winnerTicket.owner} prize=${prize} number=${winningNumber}`);
  updateTicketStats();
}, 5000);

function updateTicketStats(){
  const tickets = load('demo_tickets') || [];
  document.getElementById('participants').textContent = tickets.length;
  document.getElementById('activeTickets').textContent = tickets.filter(t=>t.expires>now()).length;
  const draws = load('demo_draws') || [];
  const log = document.getElementById('lotteryLog');
  if(draws.length){
    log.innerHTML = draws.slice().reverse().slice(0,10).map(d=>`${new Date(d.time).toLocaleString()} ‚Ä¢ ${d.winner} ‚Ä¢ +${d.prize} ‚Ä¢ #${d.winningNumber}`).join('<br>');
  }
}

/* ----------------------------
   Games implementations
   ---------------------------- */

function appendLog(id, text){
  const el = document.getElementById(id);
  if(!el) return;
  const nowStr = new Date().toLocaleTimeString();
  el.innerHTML = `${nowStr} ‚Ä¢ ${text}<br>` + el.innerHTML;
}

/* Crash - simple animated multiplier */
let crashRunning = false;
let crashMultiplier = 1.0;
let crashInterval = null;
let crashCrashAt = null;

function startCrash(){
  if(crashRunning) { appendLog('crashLog','Already running'); return; }
  const bet = parseInt(document.getElementById('crashBet').value) || 0;
  if(!bet || bet <= 0){ appendLog('crashLog','Enter a bet amount'); return; }
  let balance = parseInt(localStorage.getItem('coins')) || 0;
  if(balance < bet){ appendLog('crashLog','Not enough coins'); return; }
  // deduct bet
  balance -= bet; save('coins', balance); document.getElementById('coinsDisplay').textContent = balance;
  // setup round
  crashRunning = true;
  crashMultiplier = 1.0;
  crashCrashAt = (Math.random() * 12) + 1; // crash between x1 and x13 for demo
  const auto = parseFloat(document.getElementById('crashAuto').value) || 2;
  document.getElementById('crashStatus').textContent = 'Running';
  appendLog('crashLog', `Round started ‚Äî bet ${bet}. Auto cashout at √ó${auto.toFixed(0)}`);
  // visual columns (random)
  renderCrashBar();
  // interval increase multiplier
  crashInterval = setInterval(()=>{
    crashMultiplier = +(crashMultiplier + (Math.random()*0.12 + 0.05)).toFixed(2);
    renderCrashBar();
    // if auto cashout reached - automatic
    if(crashMultiplier >= auto && crashRunning){
      // auto cashout (win)
      const won = Math.round(bet * auto);
      let c = parseInt(localStorage.getItem('coins')) || 0;
      c += won;
      save('coins', c);
      document.getElementById('coinsDisplay').textContent = c;
      appendLog('crashLog', `‚úÖ Auto-cashed out at √ó${auto} ‚Äî won ${won}`);
      stopCrash(true);
    }
    // if crash reached
    if(crashMultiplier >= crashCrashAt){
      // crashed before cashout
      appendLog('crashLog', `üí• Crashed at √ó${crashMultiplier.toFixed(2)} ‚Äî lost bet`);
      stopCrash(false);
    }
  }, 220);
}

function stopCrash(manualCashout){
  if(!crashRunning) return;
  clearInterval(crashInterval);
  crashInterval = null;
  crashRunning = false;
  if(manualCashout){
    document.getElementById('crashStatus').textContent = 'Cashed out';
  } else {
    document.getElementById('crashStatus').textContent = 'Idle';
  }
  renderCrashBar(true);
}

function renderCrashBar(final=false){
  const bar = document.getElementById('crashBar');
  bar.innerHTML = '';
  // show 6 columns with different heights based on multiplier
  for(let i=0;i<6;i++){
    const col = document.createElement('div');
    col.className = 'crash-col';
    const h = Math.min(100, Math.max(6, Math.round((Math.sin(i+crashMultiplier) + 1.5) * 30)));
    col.style.height = '70px';
    col.textContent = final ? crashMultiplier.toFixed(2) : (Math.random()*4+1).toFixed(2);
    bar.appendChild(col);
  }
}

/* Dragon Tiger */
function playDragonTiger(choice){
  const bet = parseInt(document.getElementById('dtBet').value) || 0;
  if(!bet){ appendLog('dtLog','Enter bet amount'); return; }
  let bal = parseInt(localStorage.getItem('coins')) || 0;
  if(bal < bet){ appendLog('dtLog','Not enough coins'); return; }
  bal -= bet; save('coins', bal); document.getElementById('coinsDisplay').textContent = bal;
  // draw random
  const dragon = Math.floor(Math.random()*13)+1;
  const tiger = Math.floor(Math.random()*13)+1;
  let result = dragon>tiger? 'Dragon' : (tiger>dragon? 'Tiger' : 'Tie');
  let out='';
  if(result === choice){
    // win even money
    const win = bet * 2;
    bal += win; save('coins', bal); document.getElementById('coinsDisplay').textContent = bal;
    out = `‚úÖ ${choice} wins (${dragon} vs ${tiger}). You won ${win}`;
  } else if(result === 'Tie'){
    // refund half
    const refund = Math.round(bet/2);
    bal += refund; save('coins', bal); document.getElementById('coinsDisplay').textContent = bal;
    out = `üîÅ Tie (${dragon} vs ${tiger}). Refunded ${refund}`;
  } else {
    out = `‚ùå ${choice} lost (${dragon} vs ${tiger}).`;
  }
  appendLog('dtLog', out);
}

/* Roulette */
function spinRoulette(){
  const bet = parseInt(document.getElementById('rBet').value) || 0;
  if(!bet){ appendLog('rLog','Enter bet amount'); return; }
  let bal = parseInt(localStorage.getItem('coins')) || 0;
  if(bal < bet){ appendLog('rLog','Not enough coins'); return; }
  bal -= bet; save('coins', bal); document.getElementById('coinsDisplay').textContent = bal;
  const type = document.getElementById('rType').value;
  const pick = parseInt(document.getElementById('rNumber').value);
  const spun = Math.floor(Math.random()*37); // 0-36
  const redNumbers = new Set([1,3,5,7,9,12,14,16,18,19,21,23,25,27,30,32,34,36]);
  let out='';
  if(type==='number'){
    if(spun === pick){ const win = bet*35; bal += win; save('coins',bal); document.getElementById('coinsDisplay').textContent = bal; out = `üéØ Hit ${spun}! You won ${win}`; }
    else out = `‚ùå Spun ${spun}. You lost.`;
  } else if(type==='red' || type==='black'){
    const isRed = redNumbers.has(spun);
    const color = spun===0 ? 'Green' : (isRed? 'Red' : 'Black');
    if(spun!==0 && ((type==='red' && isRed) || (type==='black' && !isRed))){
      const win = bet*2; bal += win; save('coins',bal); document.getElementById('coinsDisplay').textContent = bal;
      out = `‚úÖ ${color} ${spun} ‚Äî You won ${win}`;
    } else out = `‚ùå ${color} ${spun} ‚Äî You lost`;
  }
  appendLog('rLog', out);
}

/* Zoo */
function playZoo(){
  const bet = parseInt(document.getElementById('zBet').value) || 0;
  if(!bet){ appendLog('zLog','Enter bet amount'); return; }
  let bal = parseInt(localStorage.getItem('coins')) || 0;
  if(bal < bet){ appendLog('zLog','Not enough coins'); return; }
  bal -= bet; save('coins', bal); document.getElementById('coinsDisplay').textContent = bal;
  const pick = document.getElementById('zPick').value;
  const animals = ['Elephant','Tiger','Lion','Giraffe','Monkey'];
  const result = animals[Math.floor(Math.random()*animals.length)];
  if(result === pick){
    const win = bet * 5;
    bal += win; save('coins', bal); document.getElementById('coinsDisplay').textContent = bal;
    appendLog('zLog', `üéâ ${pick} matched! You won ${win}`);
  } else {
    appendLog('zLog', `‚ùå Picked ${pick}. Result ${result}. Lost ${bet}`);
  }
}

/* ----------------------------
   Withdraw & reset
   ---------------------------- */
function simulateWithdraw(){
  const amt = parseInt(document.getElementById('withdrawAmt').value) || 0;
  if(!amt){ document.getElementById('acctMsg').textContent = 'Enter amount to withdraw.'; return; }
  let bal = parseInt(localStorage.getItem('coins')) || 0;
  if(bal < amt){ document.getElementById('acctMsg').textContent = 'Insufficient balance.'; return; }
  bal -= amt; save('coins', bal);
  document.getElementById('coinsDisplay').textContent = bal;
  document.getElementById('acctMsg').textContent = `Simulated withdraw requested: ${amt} coins ‚Äî THIS IS A DEMO.`;
}

function resetDemo(){
  if(!confirm('Reset demo data in this browser?')) return;
  localStorage.removeItem('coins');
  localStorage.removeItem('demo_tickets');
  localStorage.removeItem('demo_draws');
  localStorage.removeItem('demo_ref_codes');
  localStorage.removeItem('demo_users');
  // re-init defaults
  save('demo_ref_codes', DEFAULT_REF_CODES.reduce((o,c)=>{ o[c]=true; return o; }, {}));
  save('coins', 0);
  document.getElementById('coinsDisplay').textContent = 0;
  appendLog('lotteryLog','üîÑ Demo reset');
  updateTicketStats();
}

/* ----------------------------
   Initialization
   ---------------------------- */
function init(){
  document.getElementById('coinsDisplay').textContent = (parseInt(localStorage.getItem('coins'))||0);
  updateTicketStats();
  // small demo prefill: show one valid code in console to test
  console.log('Demo referral codes seeded. Use one from demo_ref_codes in localStorage or add your own.');
}

init();
</script>

</body>
</html>
